@{
    ViewData["Title"] = "Test UTF-8 Encoding";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<meta charset="UTF-8">

<div class="container-fluid py-4">
    <div class="card">
        <div class="card-header">
            <h5>üß™ Test UTF-8 Encoding</h5>
        </div>
        <div class="card-body">
            <h6>1. HTML Static Text:</h6>
            <p>-- Ch·ªçn bi·∫øn th·ªÉ --</p>
            <p>-- Ch·ªçn s·∫£n ph·∫©m --</p>
            <p>Size l·ªõn (+10,000‚Ç´)</p>
            
            <h6>2. HTML Entities:</h6>
            <p>-- Ch&#7885;n bi&#7871;n th&#7875; --</p>
            <p>-- Ch&#7885;n s&#7843;n ph&#7849;m --</p>
            <p>Size l&#7899;n (+10,000&#8363;)</p>
            
            <h6>3. Static Select:</h6>
            <select class="form-control">
                <option value="">-- Ch·ªçn bi·∫øn th·ªÉ --</option>
                <option value="1">v·ª´a (+0‚Ç´)</option>
                <option value="2">l·ªõn (+10,000‚Ç´)</option>
            </select>
            
            <h6>4. Static Select with HTML Entities:</h6>
            <select class="form-control">
                <option value="">-- Ch&#7885;n bi&#7871;n th&#7875; --</option>
                <option value="1">v&#7915;a (+0&#8363;)</option>
                <option value="2">l&#7899;n (+10,000&#8363;)</option>
            </select>
            
            <h6>5. Dynamic Select (JavaScript):</h6>
            <select id="dynamicSelect" class="form-control">
                <option value="">Loading...</option>
            </select>
            
            <h6>6. Test Area:</h6>
            <div id="testArea"></div>
            
            <button id="testBtn" class="btn btn-primary mt-3">Run JavaScript Tests</button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('#testBtn').click(function() {
                runTests();
            });
            
            // Auto run tests
            setTimeout(runTests, 1000);
        });
        
        function runTests() {
            console.log('Starting UTF-8 tests...');
            
            // Test 1: jQuery html()
            $('#dynamicSelect').html('<option value="">-- Ch·ªçn bi·∫øn th·ªÉ --</option><option value="1">v·ª´a (+0‚Ç´)</option><option value="2">l·ªõn (+10,000‚Ç´)</option>');
            
            // Test 2: DOM createElement
            const select2 = document.createElement('select');
            select2.className = 'form-control mt-2';
            
            const option1 = document.createElement('option');
            option1.value = '';
            option1.textContent = '-- Ch·ªçn bi·∫øn th·ªÉ --';
            select2.appendChild(option1);
            
            const option2 = document.createElement('option');
            option2.value = '1';
            option2.textContent = 'v·ª´a (+0‚Ç´)';
            select2.appendChild(option2);
            
            const option3 = document.createElement('option');
            option3.value = '2';
            option3.textContent = 'l·ªõn (+10,000‚Ç´)';
            select2.appendChild(option3);
            
            // Test 3: Unicode escape
            const select3 = document.createElement('select');
            select3.className = 'form-control mt-2';
            select3.innerHTML = '<option value="">-- Ch\u1ECDn bi\u1EBFn th\u1EC3 --</option><option value="1">v\u1EEBa (+0\u20AB)</option><option value="2">l\u1EDBn (+10,000\u20AB)</option>';
            
            // Test 4: HTML Entities via JavaScript
            const select4 = document.createElement('select');
            select4.className = 'form-control mt-2';
            select4.innerHTML = '<option value="">-- Ch&#7885;n bi&#7871;n th&#7875; --</option><option value="1">v&#7915;a (+0&#8363;)</option><option value="2">l&#7899;n (+10,000&#8363;)</option>';
            
            const testArea = document.getElementById('testArea');
            testArea.innerHTML = '<h6>Dynamic Results:</h6>';
            testArea.appendChild(document.createTextNode('Method 2 (createElement): '));
            testArea.appendChild(select2);
            testArea.appendChild(document.createElement('br'));
            testArea.appendChild(document.createElement('br'));
            testArea.appendChild(document.createTextNode('Method 3 (Unicode): '));
            testArea.appendChild(select3);
            testArea.appendChild(document.createElement('br'));
            testArea.appendChild(document.createElement('br'));
            testArea.appendChild(document.createTextNode('Method 4 (HTML Entities): '));
            testArea.appendChild(select4);
            
            console.log('UTF-8 tests completed');
        }
    </script>
} 